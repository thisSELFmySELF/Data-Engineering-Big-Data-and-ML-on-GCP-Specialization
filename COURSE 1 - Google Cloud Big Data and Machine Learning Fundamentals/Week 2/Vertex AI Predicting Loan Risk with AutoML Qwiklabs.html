
<!DOCTYPE html>
<html lang='en'>
<head>
<title>Vertex AI: Predicting Loan Risk with AutoML | Qwiklabs</title>
<meta name="action-cable-url" content="/cable" />
<script>
//<![CDATA[
window.gon={};gon.deployment="googlecoursera-run";
//]]>
</script>
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-5XSKHDX");
</script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/polyfills/webcomponents-loader-b1b28b59480cca2ab0c23485f64ba2ec8893bdc9.js"></script>
<script src="https://cdn.qwiklabs.com/assets/vendor-730738e6a42cf2d08765342db72a96e1c168e026.js"></script>
<script src="https://cdn.qwiklabs.com/assets/application-5bdf08e3db82244d1fd919ef04497683c2eb8f48.js"></script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/hallofmirrors-5be9380d7cac08f7e2dac9c53445a154bd807c47.js"></script>
<script id='ze-snippet' src='https://static.zdassets.com/ekr/snippet.js?key=511e4158-0aec-4e3c-b2e6-4daa1769f51e'></script>


<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="Xn5N87Dqx7mPTNR0ezjH0f6Bl8PjsdiGzcBJsvg9sLsFPd3TzpEJES5BBx3uAtl2EQdsOqJF2jn/Iux/5dnTcA==" />
<meta content='width=device-width, initial-scale=1.0, user-scalable=yes' name='viewport'>
<meta content='1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0' name='google-site-verification'>
<meta content='#3681E4' property='msapplication-TileColor'>
<meta content='/favicon-144.png' property='msapplication-TileImage'>
<meta content='[{&quot;id&quot;:&quot;recaptcha_experiment&quot;,&quot;optimize_id&quot;:&quot;dpViOcLkT3qS4TvL2mRojA&quot;,&quot;title&quot;:&quot;No Recaptcha shown for trusted users&quot;,&quot;variant_index&quot;:0,&quot;variant&quot;:&quot;original&quot;}]' name='active-experiments'>
<meta content='{&quot;userId&quot;:12197799,&quot;experimentIds&quot;:[&quot;search_updates&quot;,&quot;organization_announcements&quot;,&quot;organization_learning_plans&quot;,&quot;chat_off_for_signed_out_users&quot;,&quot;alexandria_show_bundle_errors&quot;,&quot;program_announcements&quot;,&quot;canonical_domain_redirect&quot;,&quot;program_learning_assignment&quot;,&quot;barker&quot;,&quot;used_in&quot;,&quot;course_upgrade&quot;,&quot;community_forum&quot;,&quot;peer_assignment&quot;,&quot;enforce_codebuild_verdicts&quot;,&quot;show_annual_purchase_now&quot;,&quot;oauth_risc_shutoff&quot;,&quot;teams&quot;,&quot;content_provider_admin&quot;]}' name='help-api-product-data'>
<meta content='{&quot;groupIds&quot;:[&quot;non_suadmins&quot;,&quot;students&quot;,&quot;non_organization&quot;,&quot;non_program&quot;]}' name='help-api-custom-data'>
<meta content='In this lab, you will use AutoML on Vertex AI to train and serve a model with tabular data. Vertex AI is the newest AI product offering on Google Cloud, and is currently in preview.' name='description'>
<meta content='Qwiklabs' name='author'>
<meta content='Vertex AI: Predicting Loan Risk with AutoML | Qwiklabs' property='og:title'>
<meta content='website' property='og:type'>
<meta content='/favicon-144.png' property='og:image'>
<meta content='Qwiklabs' property='og:site_name'>
<meta content='In this lab, you will use AutoML on Vertex AI to train and serve a model with tabular data. Vertex AI is the newest AI product offering on Google Cloud, and is currently in preview.' property='og:description'>
<meta content='/qwiklabs_logo_900x887.png' property='og:logo' size='900x887'>
<meta content='/qwiklabs_logo_994x187.png' property='og:logo' size='994x187'>


<meta property="og:url" content="https://googlecoursera.qwiklabs.com/focuses/32528826?parent=lti_session" /><link href="https://googlecoursera.qwiklabs.com/focuses/32528826?parent=lti_session" rel="canonical" />
<link color='#3681E4' href='/favicon-svg.svg' rel='mask-icon'>
<link href='/favicon-180.png' rel='apple-touch-icon-precomposed'>
<link href='/favicon-32.png' rel='shortcut icon' type='image/x-icon'>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:400|Roboto+Mono:400,700|Roboto:300,400,500,700|Google+Sans:300,400,500,700|Google+Sans+Display:400|Material+Icons|Google+Material+Icons|Google+Sans+Text:400,500,700" media="screen" />

<link rel="stylesheet" href="https://cdn.qwiklabs.com/assets/application-29602dc272dc25b87d80aad082aeac190a74d2ab.css" media="all" />
<link rel="stylesheet" href="https://www.gstatic.com/glue/cookienotificationbar/cookienotificationbar.min.css" media="screen" />


<style>
  :root {
    --primary-text-on-surface-color: #1a73e8;
    --primary-text-on-surface-color-dark: #1568d6;
    --primary-text-on-surface-color-darker: #135ec1;
    --primary-text-on-surface-color-darkest: #1154ac;
    --primary-surface-color: #1a73e8;
    --primary-surface-color-rgb: 26,115,232;
    --primary-surface-color-light: #d1e3fa;
    --primary-surface-color-lightest: #e8f1fd;
    --text-on-primary-color: #ffffff;
    --accent-text-on-surface-color: #f29900;
    --accent-surface-color: #f9ab00;
    --accent-surface-color-rgb: 249,171,0;
    --accent-surface-color-light: #ffefcc;
    --text-on-accent-color: #202124;
  }
</style>



</head>
<body class='lab-show l-full no-nav application-new focuses focuses-show lab-show l-full no-nav '>
<div class='header-container'>
<div class='header'>
<ql-toolbar jumpEnabled>
<div class='header__title' slot='title'>
<ql-icon-button label="Back" href="https://www.coursera.org/" id="7f3de174e824844b" target="_self" tip="Back">arrow_back</ql-icon-button>
<h1 class='ql-title-medium'>Vertex AI: Predicting Loan Risk with AutoML</h1>
</div>
<div class='header__actions' slot='action'>
<ql-icon-button id='control-panel-target' style='display: none;'>
dashboard
</ql-icon-button>
<ql-menu for='control-panel-target' id='control-panel-menu'></ql-menu>
<ql-icon-button class='mobile-hide' icon='help_outline' id='help-menu-button' label='Open help menu' tip='Help'></ql-icon-button>
<ql-menu for='help-menu-button' id='help-menu'>
<ql-menu-item data-analytics-action='opened_help' data-analytics-label='lab' label='Help Center' onclick='hallofmirrors.helpService.startHelp({&quot;productData&quot;:{&quot;userId&quot;:12197799},&quot;context&quot;:&quot;lab&quot;})'></ql-menu-item>
<ql-menu-item href='mailto:support@qwiklabs.com' label='Email support'></ql-menu-item>
<ql-menu-item label='Chat support' onClick='ql.chat.open()'></ql-menu-item>
</ql-menu>

<ql-icon-button class='mobile-hide' icon='language' id='language' label='Select your language preference' tip='Language'></ql-icon-button>
<ql-menu for='language'>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ar' href='/focuses/32528826?locale=ar&amp;parent=lti_session' label='العربية‬‎' lang='ar'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='de' href='/focuses/32528826?locale=de&amp;parent=lti_session' label='Deutsch' lang='de'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='en' href='/focuses/32528826?locale=en&amp;parent=lti_session' label='English' lang='en'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='es' href='/focuses/32528826?locale=es&amp;parent=lti_session' label='español (Latinoamérica)' lang='es'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='fr' href='/focuses/32528826?locale=fr&amp;parent=lti_session' label='français' lang='fr'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='fr_CA' href='/focuses/32528826?locale=fr_CA&amp;parent=lti_session' label='français (Canada)' lang='fr-CA'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='he' href='/focuses/32528826?locale=he&amp;parent=lti_session' label='עברית' lang='he'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='id' href='/focuses/32528826?locale=id&amp;parent=lti_session' label='bahasa Indonesia' lang='id'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='it' href='/focuses/32528826?locale=it&amp;parent=lti_session' label='Italiano' lang='it'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ja' href='/focuses/32528826?locale=ja&amp;parent=lti_session' label='日本語' lang='ja'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ko' href='/focuses/32528826?locale=ko&amp;parent=lti_session' label='한국어' lang='ko'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pl' href='/focuses/32528826?locale=pl&amp;parent=lti_session' label='Polski' lang='pl'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pt_BR' href='/focuses/32528826?locale=pt_BR&amp;parent=lti_session' label='português (Brasil)' lang='pt-BR'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pt_PT' href='/focuses/32528826?locale=pt_PT&amp;parent=lti_session' label='português (Portugal)' lang='pt-PT'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ru' href='/focuses/32528826?locale=ru&amp;parent=lti_session' label='русский' lang='ru'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='tr' href='/focuses/32528826?locale=tr&amp;parent=lti_session' label='Türkçe' lang='tr'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='uk' href='/focuses/32528826?locale=uk&amp;parent=lti_session' label='український' lang='uk'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='zh' href='/focuses/32528826?locale=zh&amp;parent=lti_session' label='简体中文' lang='zh'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='zh_TW' href='/focuses/32528826?locale=zh_TW&amp;parent=lti_session' label='繁體中文' lang='zh-TW'></ql-menu-item>
</ql-menu>


<ql-icon-button id='my_account' label='My account' tip='My account'>
<ql-avatar src='https://lh3.googleusercontent.com/a/ACg8ocI6s7UhNvX_oCOJMPhLJPmqhqIgwu_5AK0t7wpjF-5jmQo=s320-c'></ql-avatar>
</ql-icon-button>
<ql-menu for='my_account' id='my_account_menu' style='max-height: 640px'>
<div class='my-account-menu'>
<ql-avatar class='l-mtl l-mbl' size='120' src='https://lh3.googleusercontent.com/a/ACg8ocI6s7UhNvX_oCOJMPhLJPmqhqIgwu_5AK0t7wpjF-5jmQo=s320-c'></ql-avatar>
<div class='my-account-menu__user-info l-mbl'>
<h4 class='ql-title-medium'>Justin Ho</h4>
<p class='ql-body-medium text--light'>cliffdove@gmail.com</p>
<p class='ql-body-medium text--light'>
</p>
<a class="text--green ql-title-small" href="/my_account/payments"><ql-chip positive>
0 Credits
</ql-chip>
</a></div>
<div class='buttons l-mbl'>
<a class="button button--hairline" id="settings" href="/my_account/profile">Settings</a>
</div>
<hr>
<ql-button data-analytics-action='clicked_sign_out' href='/users/sign_out' method='delete'>
Sign Out
</ql-button>
<div class='privacy l-mtl'>
<a target="_blank" class="ql-label-medium text--light" href="/privacy_policy">Privacy</a>
<span class='ql-label-medium text--light l-mls l-mrs'>&middot;</span>
<a class="ql-label-medium text--light" href="/terms_of_service">Terms</a>
</div>
</div>
</ql-menu>

</div>
</ql-toolbar>

</div>
</div>

<nav class='nav-panel js-nav-panel'>
<div class='nav-panel__logo'>
<div class="custom-logo">Qwiklabs</div>
</div>
<nav class='ql-sidenav'>
<ql-sidenav-item href='/' icon='home' label='Home'></ql-sidenav-item>

<ql-sidenav-item href='/catalog' icon='school' label='Catalog'></ql-sidenav-item>

<ql-sidenav-item href='/profile' icon='event_note' label='Profile'></ql-sidenav-item>

</nav>

</nav>
<div class='nav-panel__overlay js-nav-toggle'></div>

<main class='js-main' id='jump-content'>
<div class='l-main-wrapper' id='main-wrapper'>




<ql-drawer-container class='js-lab-state' data-analytics-payload='{&quot;label&quot;:&quot;Vertex AI: Predicting Loan Risk with AutoML&quot;,&quot;lab_name&quot;:&quot;Vertex AI: Predicting Loan Risk with AutoML&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}' data-credits='0.0' data-focus-id='32528826' data-lab-billing-limit='0.0' data-lab-duration='9000' data-parent='lti_session' data-recaptcha-enabled id='lab-container'>
<ql-drawer id='terminal-drawer' slot='drawer'>
<iframe allow='clipboard-read' class='terminal' id='embedded-resource'></iframe>
</ql-drawer>
<ql-drawer-content class='js-lab-wrapper' id='lab-content' slot='drawer-content'>
<ql-drawer-container id='lab-content-container'>
<ql-drawer id='control-panel-drawer' open slot='drawer' width='320'>
<ql-lab-control-panel class='ql-lab-control-panel__max-height control-panel js-lab-control-panel' connectionFiles='[]' labControlButton='{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}' labDetails='[]' labTimer='{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:9000}' studentResources='[]'>
<script src="https://www.recaptcha.net/recaptcha/api.js?render=6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr"   ></script>
        <script>
          // Define function so that we can call it again later if we need to reset it
          // This executes reCAPTCHA and then calls our callback.
          function executeRecaptchaForStartLab() {
            grecaptcha.ready(function() {
              grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}).then(function(token) {
                setInputWithRecaptchaResponseTokenForStartLab('g-recaptcha-response-data-start-lab', token)
              });
            });
          };
          // Invoke immediately
          executeRecaptchaForStartLab()

          // Async variant so you can await this function from another async function (no need for
          // an explicit callback function then!)
          // Returns a Promise that resolves with the response token.
          async function executeRecaptchaForStartLabAsync() {
            return new Promise((resolve, reject) => {
             grecaptcha.ready(async function() {
                resolve(await grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}))
              });
            })
          };

                  var setInputWithRecaptchaResponseTokenForStartLab = function(id, token) {
          var element = document.getElementById(id);
          if (element !== null) element.value = token;
        }

        </script>
<input type="hidden" name="g-recaptcha-response-data[start_lab]" id="g-recaptcha-response-data-start-lab" data-sitekey="6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr" class="g-recaptcha g-recaptcha-response "/>

<div aria-live='polite' class='hidden' id='recaptcha-v2-start-lab' slot='recaptcha'>
<script src="https://www.recaptcha.net/recaptcha/api.js" async defer ></script>
<div data-sitekey="6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV" data-callback="recaptchaComplete" data-expired-callback="expireV2Token" class="g-recaptcha "></div>
          <noscript>
            <div>
              <div style="width: 302px; height: 422px; position: relative;">
                <div style="width: 302px; height: 422px; position: absolute;">
                  <iframe
                    src="https://www.recaptcha.net/recaptcha/api/fallback?k=6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV"
                    name="ReCAPTCHA"
                    style="width: 302px; height: 422px; border-style: none; border: 0; overflow: hidden;">
                  </iframe>
                </div>
              </div>
              <div style="width: 300px; height: 60px; border-style: none;
                bottom: 12px; left: 25px; margin: 0px; padding: 0px; right: 25px;
                background: #f9f9f9; border: 1px solid #c1c1c1; border-radius: 3px;">
                <textarea id="g-recaptcha-response" name="g-recaptcha-response"
                  class="g-recaptcha-response"
                  style="width: 250px; height: 40px; border: 1px solid #c1c1c1;
                  margin: 10px 25px; padding: 0px; resize: none;">
                </textarea>
              </div>
            </div>
          </noscript>

</div>
</ql-lab-control-panel>
</ql-drawer>
<ql-drawer-content id='lab-instructions' slot='drawer-content'>
<div class='lab-content-container'>
<div class='alert alert--fake js-alert'>
<p class='alert__message js-alert-message' role='alert'></p>
<ql-icon-button class='alert__close js-alert-close' icon='clear'></ql-icon-button>
<iframe class='l-ie-iframe-fix' tabindex='-1'></iframe>
</div>
<div class='lab-content__renderable-instructions js-lab-content'>
<div class='lab-preamble'>
<h1 class='lab-preamble__title'>
Vertex AI: Predicting Loan Risk with AutoML
</h1>
<div class='lab-preamble__details ql-title-medium'>
<span>2 hours 30 minutes</span>
<span>Free</span>
<div class='lab__rating'>
<a aria-label="Lab Reviews" href="/focuses/32528826/reviews?parent=lti_session"><div class='rateit' data-rateit-readonly='true' data-rateit-value='4.0011'></div>

</a><ql-button aria-label='Rate Lab' id='rate-lab-btn' label='Rate Lab' text></ql-button>
</div>
</div>
</div>
<div class='lab-outline-place-holder'></div>

<div class='markdown-lab-instructions js-markdown-instructions' id='markdown-lab-instructions'>

<h2 id="step1">Overview</h2>
<p>In this lab, you  use  <a href="https://cloud.google.com/ai-platform-unified/docs?utm_source=codelabs&amp;utm_medium=et&amp;utm_campaign=CDR_sar_aiml_vertexio_&amp;utm_content=-" target="_blank">Vertex AI</a> to train and serve a machine learning model to predict loan risk with a tabular dataset.</p>
<h3>Objectives</h3>
<p>You learn how to:</p>
<ul>
<li>Upload a dataset to Vertex AI.</li>
<li>Train a machine learning model with AutoML.</li>
<li>Evaluate the model performance.</li>
<li>Deploy the model to an endpoint.</li>
<li>Get predictions.</li>
</ul>
<h2 id="step2">Setup</h2>
<h4>Before you click the Start Lab button</h4>
<ql-warningbox><strong>Note: Read these instructions.</strong>
<p></p>
Labs are timed and you cannot pause them. The timer, which starts when you click <b>Start Lab</b>, shows how long Google Cloud resources will be made available to you.</ql-warningbox>
<p>This Qwiklabs hands-on lab lets you do the lab activities yourself in a real cloud environment, not in a simulation or demo environment. It does so by giving you new, temporary credentials that you use to sign in and access Google Cloud for the duration of the lab.</p>
<h4>What you need</h4>
<p>To complete this lab, you need:</p>
<ul>
<li>Access to a standard internet browser (Chrome browser recommended).</li>
<li>Time to complete the lab.</li>
</ul>
<ql-warningbox><strong>Note: </strong>If you already have your own personal Google Cloud account or project, do not use it for this lab.</ql-warningbox>
<ql-infobox><strong>Note: </strong>If you are using a Pixelbook, open an Incognito window to run this lab.</ql-infobox>

<h4>How to start your lab and sign in to the Console</h4>
<ol>
<li>
<p>Click the <strong>Start Lab</strong> button. If you need to pay for the lab, a pop-up opens for you to select your payment method.
On the left is a panel populated with the temporary credentials that you must use for this lab.</p>
<p><img alt="Credentials panel" src="https://cdn.qwiklabs.com/%2FtHp4GI5VSDyTtdqi3qDFtevuY014F88%2BFow%2FadnRgE%3D"></p>
</li>
<li>
<p>Copy the username, and then click <strong>Open Google Console</strong>.
The lab spins up resources, and then opens another tab that shows the <strong>Choose an account</strong> page.</p>
<ql-infobox><strong>Note: </strong>Open the tabs in separate windows, side-by-side.</ql-infobox>
</li>
<li>
<p>On the Choose an account page, click <strong>Use Another Account</strong>. The Sign in page opens.</p>
<p><img alt="Choose an account dialog box with Use Another Account option highlighted " src="https://cdn.qwiklabs.com/eQ6xPnPn13GjiJP3RWlHWwiMjhooHxTNvzfg1AL2WPw%3D"></p>
</li>
<li>
<p>Paste the username that you copied from the Connection Details panel. Then copy and paste the password.</p>
</li>
</ol>
<ql-warningbox><strong>Note: </strong>You must use the credentials from the Connection Details panel. Do not use your Google Cloud Skills Boost credentials. If you have your own Google Cloud account, do not use it for this lab (avoids incurring charges).</ql-warningbox>
<ol start="5">
<li>Click through the subsequent pages:</li>
</ol>
<ul>
<li>Accept the terms and conditions.</li>
<li>Do not add recovery options or two-factor authentication (because this is a temporary account).</li>
<li>Do not sign up for free trials.</li>
</ul>
<p>After a few moments, the Cloud console opens in this tab.</p>
<ql-infobox><strong>Note: </strong>You can view the menu with a list of Google Cloud Products and Services by clicking the <b>Navigation menu</b> at the top-left.
<img alt="Cloud Console Menu" src="https://cdn.qwiklabs.com/9vT7xPlxoNP%2FPsK0J8j0ZPFB4HnnpaIJVCDByaBrSHg%3D">
</ql-infobox>

<h2 id="step3">Introduction to Vertex AI</h2>
<p>This lab uses <a href="https://cloud.google.com/ai-platform-unified/docs?utm_source=codelabs&amp;utm_medium=et&amp;utm_campaign=CDR_sar_aiml_vertexio_&amp;utm_content=-" target="_blank">Vertex AI</a>, the unified AI platform on Google Cloud to train and deploy a ML model. Vertex AI offers two options on one platform to build a ML model: a codeless solution with <strong>AutoML</strong> and a code-based solution with <strong>Custom Training</strong> using Vertex <strong>Workbench</strong>. You use <strong>AutoML</strong> in this lab.</p>
<p>In this lab you build a ML model to determine whether a particular customer will repay a loan.</p>
<h2 id="step4">Task 1. Prepare the training data</h2>
<p>The initial Vertex AI dashboard illustrates the major stages to train and deploy a ML model: prepare the training data, train the model, and get predictions. Later, the dashboard displays your recent activities, such as the recent datasets, models, predictions, endpoints, and notebook instances.</p>
<h3>Create a dataset</h3>
<ol>
<li>In the Google Cloud console, on the <strong>Navigation menu</strong>, click <strong>Vertex AI &gt; Datasets</strong>.</li>
<li>Click <strong>Create dataset</strong>.</li>
<li>Give dataset a name <strong>LoanRisk</strong>.</li>
<li>For the data type and objective, click <strong>Tabular</strong>, and then select <strong>Regression/classification</strong>.</li>
<li>Click <strong>Create</strong>.</li>
</ol>
<h3>Upload data</h3>
<p>There are three options to import data in Vertex AI:</p>
<ul>
<li>Upload a local file from your computer.</li>
<li>Select files from Cloud Storage.</li>
<li>Select data from BigQuery.</li>
</ul>
<p>For convenience, the dataset is already uploaded to Cloud Storage.</p>
<ol>
<li>
<p>For the data source, select <strong>Select CSV files from Cloud Storage</strong>.</p>
</li>
<li>
<p>For <strong>Import file path</strong>, enter:</p>
</li>
</ol>
<ql-code-block language="bash">
spls/cbl455/loan_risk.csv
</ql-code-block>
<ol start="3">
<li>Click <strong>Continue</strong>.</li>
</ol>
<ql-infobox><strong>Note: </strong>You can also configure this page by clicking <b>Datasets</b> on the left menu and then selecting the dataset name on the Datasets page.
</ql-infobox>
<h3>(Optional) Generate statistics</h3>
<ol>
<li>
<p>To see the descriptive statistics for each column of your dataset, click <strong>Generate statistics</strong> .<br>
Generating the statistics might take a few minutes, especially the first time.</p>
</li>
<li>
<p>When the statistics are ready, click each column name to display analytical charts.</p>
</li>
</ol>
<h2 id="step5">Task 2. Train your model</h2>
<p>With a dataset uploaded, you're ready to train a model to predict whether a customer will repay the loan.</p>
<ul>
<li>Click <strong>Train new model</strong> and select <strong>Other</strong> .</li>
</ul>
<h3>Training method</h3>
<ol>
<li>
<p>The dataset is already named <strong>LoanRisk</strong>.</p>
</li>
<li>
<p>For <strong>Objective</strong>, select <strong>Classification</strong>.</p>
</li>
</ol>
<p>You select classification instead of regression because you are predicting a distinct number (whether a customer will repay a loan: 0 for repay, 1 for default/not repay) instead of a continuous number.</p>
<ol start="3">
<li>Click <strong>Continue</strong>.</li>
</ol>
<h3>Model details</h3>
<p>Specify the name of the model and the target column.</p>
<ol>
<li>
<p>Give the model a name, such as <strong>LoanRisk</strong>.</p>
</li>
<li>
<p>For <strong>Target column</strong>, select <strong>Default</strong> .</p>
</li>
<li>
<p>(Optional) Explore <strong>Advanced options</strong> to determine how to assign the training vs. testing data and specify the encryption.</p>
</li>
<li>
<p>Click <strong>Continue</strong>.</p>
</li>
<li>
<p>For Add features, click <strong>Continue</strong>.</p>
</li>
</ol>
<h3>Training options</h3>
<p>Specify which columns you want to include in the training model. For example, ClientID might be irrelevant to predict loan risk.</p>
<ol>
<li>
<p>Click the minus sign on the <strong>ClientID</strong> row to exclude it from the training model.</p>
</li>
<li>
<p>(Optional) Explore <strong>Advanced options</strong> to select different optimization objectives.<br>
For more information about optimization objectives for tabular AutoML models, refer to the <a href="https://cloud.google.com/vertex-ai/docs/training/tabular-opt-obj" target="_blank">Optimization objectives for tabular AutoML models guide</a>.</p>
</li>
<li>
<p>Click <strong>Continue</strong>.</p>
</li>
</ol>
<h3>Compute and pricing</h3>
<ol>
<li>
<p>For <strong>Budget</strong>, which represents the number of node hours for training, enter <strong>1</strong>.<br>
Training your AutoML model for 1 compute hour is typically a good start for understanding whether there is a relationship between the features and label you've selected. From there, you can modify your features and train for more time to improve model performance.</p>
</li>
<li>
<p>Leave early stopping <strong>Enabled</strong>.</p>
</li>
<li>
<p>Click <strong>Start training</strong>.</p>
</li>
</ol>
<p>Depending on the data size and the training method, the training can take from a few minutes to a couple of hours. Normally you would receive an email from Google Cloud when the training job is complete. However, in the Qwiklabs environment, you will not receive an email.</p>
<p>To save the waiting for the model training, you download a pre-trained model in <strong>Task 5</strong> to get predictions in <strong>Task 6</strong>.
This pre-trained model is the training result following the same steps from <strong>Task 1</strong> to <strong>Task 2</strong>.</p>
<h2 id="step6">Task 3. Evaluate the model performance (demonstration only)</h2>
<p>Vertex AI provides many metrics to evaluate the model performance. You focus on three:</p>
<ul>
<li><strong>Precision/Recall curve</strong></li>
<li><strong>Confusion Matrix</strong></li>
<li><strong>Feature Importance</strong></li>
</ul>
<ql-infobox><strong>Note: </strong>If you had a model trained, you could navigate to the <strong>Model Registry</strong> tab in Vertex AI.
<p></p>
1. Navigate to the <b>Model Registry</b>.<p></p>
2. Click on the model you just trained.<p></p>
3. Browse the <b>Evaluate</b> tab.
<p></p>
However in this lab, you can skip this step since you use a pre-trained model.
</ql-infobox>
<h3>The precision/recall curve</h3>
<img alt="Confidence threshold slider set to 0.5 and graphs for precision/recall curve, ROC curve, and Precision-recall by threshold" src="https://cdn.qwiklabs.com/A4JZx0Lr%2FoWJaLFG%2FuQtxyUyPb%2FhxFZFld1%2Fd%2BYkRlY%3D" width="624.00">
<p>The confidence threshold determines how a ML model counts the positive cases. A higher threshold increases the precision, but decreases recall. A lower threshold decreases the precision, but increases recall.</p>
<p>You can manually adjust the threshold to observe its impact on precision and recall and find the best tradeoff point between the two to meet your business needs.</p>
<h3>The confusion matrix</h3>
<p>A <a href="https://developers.google.com/machine-learning/glossary#confusion-matrix" target="_blank">confusion matrix</a> tells you the percentage of examples from <em>each class</em> in your test set that your model predicted correctly.</p>
<img alt="Confusion matrix table displaying true label and predicted label classifications" src="https://cdn.qwiklabs.com/oJKZ0g9jWNl91cXCfb2%2BYUebLAcvsSa9e5jMrSDPGJ8%3D" width="564.00">
<p>The confusion matrix shows that your initial model is able to predict 100% of the repay examples and 87% of the default examples in your test set correctly, which is not too bad.</p>
<p>You can improve the percentage by adding more examples (more data), engineering new features, and changing the training method, etc.</p>
<h3>The feature importance</h3>
<p>In Vertex AI, feature importance is displayed through a bar chart to illustrate how each feature contributes to a prediction. The longer the bar, or the larger the numerical value associated with a feature, the more important it is.</p>
<img alt="Feature importance bar chart for loan, income, and age" src="https://cdn.qwiklabs.com/9qtRHmUX%2BZCgezs%2BrWozgSuwZTcw7GxiaYgqaxcoag4%3D" width="624.00">
<p>These feature importance values could be used to help you improve your model and have more confidence in its predictions. You might decide to remove the least important features next time you train a model or to combine two of the more significant features into a  <a href="https://developers.google.com/machine-learning/glossary#feature-cross" target="_blank">feature cross</a> to see if this improves model performance.</p>
<p>Feature importance is just one example of Vertex AI’s comprehensive machine learning functionality called <strong>Explainable AI</strong>. Explainable AI is a set of tools and frameworks to help understand and interpret predictions made by machine learning models.</p>
<h2 id="step7">Task 4. Deploy the model (demonstration only)</h2>
<ql-infobox><strong>Note: </strong>You will not deploy the model to an endpoint because the model training can take an hour. Here you can review the steps you would perform in a production environment.
</ql-infobox>
<p>Now that you have a trained model, the next step is to create an endpoint in Vertex. A model resource in Vertex can have multiple endpoints associated with it, and you can split traffic between endpoints.</p>
<h3>Create and define an endpoint</h3>
<ol>
<li>
<p>On your model page, click  <strong>Deploy &amp; test</strong>, and then click <strong>Deploy to Endpoint</strong>.</p>
</li>
<li>
<p>For <strong>Endpoint name</strong>, type <strong>LoanRisk</strong></p>
</li>
<li>
<p>Click <strong>Continue</strong>.</p>
</li>
</ol>
<h3>Model settings and monitoring</h3>
<ol>
<li>
<p>Leave the traffic splitting settings as-is.</p>
</li>
<li>
<p>For <strong>Machine type</strong>, select <strong>e2-standard-8, 8 vCPUs, 30 GiB memory</strong>.</p>
</li>
<li>
<p>For <strong>Explainability Options</strong>, click <strong>Feature attribution</strong>.</p>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
</li>
<li>
<p>Click <strong>Continue</strong>.</p>
</li>
<li>
<p>In <strong>Model monitoring</strong>, click <strong>Continue</strong>.</p>
</li>
<li>
<p>In <strong>Model objectives &gt; Training data source</strong>, select <strong>Vertex AI dataset</strong>.</p>
</li>
<li>
<p>Select your dataset from the drop down menu.</p>
</li>
<li>
<p>In <strong>Target column</strong>, type <strong>Default</strong></p>
</li>
<li>
<p>Leave the remaining settings as-is and click <strong>Deploy</strong>.</p>
</li>
</ol>
<p>Your endpoint will take a few minutes to deploy. When it is completed, a <strong>green check mark</strong> will appear next to the name.</p>
<p>Now you're ready to get predictions on your deployed model.</p>
<h2 id="step8">Task 5. SML Bearer Token</h2>
<h3>Retrieve your Bearer Token</h3>
<p>To allow the pipeline to authenticate, and be authorized to call the endpoint to get the predictions, you will need to provide your Bearer Token.</p>
<ql-infobox><strong>Note: </strong>Follow the instructions below to get your token. If you have issues getting the Bearer Token, this can be due to cookies in the incognito window. If this is happening to you, try this step in a non-incognito window.</ql-infobox>
<ol>
<li>
<p>Log in to <a href="https://gsp-auth-kjyo252taq-uc.a.run.app/" target="_blank">gsp-auth-kjyo252taq-uc.a.run.app</a>.</p>
</li>
<li>
<p>When logging in, use your student email address and password.</p>
</li>
<li>
<p>Click the <strong>Copy</strong> button. This will copy a very long token to your clipboard.</p>
</li>
</ol>
<p><img alt="bearer login page displaying the long token" src="https://cdn.qwiklabs.com/%2B9GsEo38OWLLpOkPtrvkYVMZ9R%2FliOI00hYrQOuV8ss%3D"></p>
<ql-warningbox><strong>Note: </strong>This token will only be available for about <b>60 seconds</b>, so copy and and move on to the next steps.</ql-warningbox>
<ql-infobox><strong>Note: </strong>
If you have issues getting the Bearer Token, this can be due to cookies in the incognito window - try in a non-incognito window.
</ql-infobox>

<h2 id="step9">Task 6. Get predictions</h2>
<p>In this section, use the Shared Machine Learning (SML) service to work with an existing trained model.</p>
<table>

<tr>
<th>ENVIRONMENT VARIABLE</th>
<th>VALUE</th>
</tr>


<tr>
<td>AUTH_TOKEN</td>
<td>Use the value from the previous section</td>
</tr>
<tr>
<td>ENDPOINT</td>
<td>https://sml-api-vertex-kjyo252taq-uc.a.run.app/vertex/predict/tabular_classification</td>
</tr>
<tr>
<td>INPUT_DATA_FILE</td>
<td>INPUT-JSON</td>
</tr>

</table>
<p>To use the trained model, you will need to create some environment variables.</p>
<ol>
<li>
<p>Open a Cloud Shell window.</p>
</li>
<li>
<p>Replace <code>INSERT_SML_BEARER_TOKEN</code> with the bearer token value from the previous section:</p>
</li>
</ol>
<ql-code-block language="bash">
export AUTH_TOKEN="INSERT_SML_BEARER_TOKEN"
</ql-code-block>
<ol start="3">
<li>Download the lab assets:</li>
</ol>
<ql-code-block language="bash">
gcloud storage cp gs://spls/cbl455/cbl455.tar.gz .
</ql-code-block>
<ol start="4">
<li>Extract the lab assets:</li>
</ol>
<ql-code-block language="bash">
tar -xvf cbl455.tar.gz
</ql-code-block>
<ol start="5">
<li>Create an ENDPOINT environment variable:</li>
</ol>
<ql-code-block language="bash">
export ENDPOINT="https://sml-api-vertex-kjyo252taq-uc.a.run.app/vertex/predict/tabular_classification"
</ql-code-block>
<ol start="6">
<li>Create a <code>INPUT_DATA_FILE</code> environment variable:</li>
</ol>
<ql-code-block language="bash">
export INPUT_DATA_FILE="INPUT-JSON" 
</ql-code-block>
<ql-infobox><strong>Note: </strong>After the lab assets are extracted, take a moment to review the contents.
<p></p>
The <b>INPUT-JSON</b> file is used to provide Vertex AI with the model data required. Alter this file to generate custom predictions.
<p></p>
The smlproxy application is used to communicate with the backend.</ql-infobox>
<p>The file <code>INPUT-JSON</code> is composed of the following values:</p>
<table>

<tr>
<th>age</th>
<th>ClientID</th>
<th>income</th>
<th>loan</th>
</tr>


<tr>
<td>40.77</td>
<td>997</td>
<td>44964.01</td>
<td>3944.22</td>
</tr>

</table>
<ol start="7">
<li>
<p>Test the SML Service by passing the parameters specified in the environment variables.</p>
</li>
<li>
<p>Perform a request to the SML service:</p>
</li>
</ol>
<ql-code-block language="bash">
./smlproxy tabular \
  -a $AUTH_TOKEN \
  -e $ENDPOINT \
  -d $INPUT_DATA_FILE
</ql-code-block>
<p>This query should result in a response similar to this:</p>
<ql-code-block output="">
  SML Tabular HTTP Response:
  2022/01/10 15:04:45 {"model_class":"0","model_score":0.9999981}
</ql-code-block>
<ol start="9">
<li>Alter the <code>INPUT-JSON</code> file to test a new scenario:</li>
</ol>
<table>

<tr>
<th>age</th>
<th>ClientID</th>
<th>income</th>
<th>loan</th>
</tr>


<tr>
<td>30.00</td>
<td>998</td>
<td>50000.00</td>
<td>20000.00</td>
</tr>

</table>
<ol start="10">
<li>
<p>Test the SML Service by passing the parameters specified in the environment variables.</p>
</li>
<li>
<p>Edit the file <code>INPUT-JSON</code> and replace the original values.</p>
</li>
<li>
<p>Perform a request to the SML service:</p>
</li>
</ol>
<ql-code-block language="bash">
./smlproxy tabular \
  -a $AUTH_TOKEN \
  -e $ENDPOINT \
  -d $INPUT_DATA_FILE
</ql-code-block>
<p>In this case, assuming that the person's income is 50,000, age 30, and loan 20,000, the model predicts that this person will repay the loan.</p>
<p>This query should result in a response similar to this:</p>
<ql-code-block output="">
  SML Tabular HTTP Response:
  2022/01/10 15:04:45 {"model_class":"0","model_score":1.0322887E-5}
</ql-code-block>
<p>If you use the Google Cloud console, the following image illustrates how the same action could be performed:</p>
<img alt="Prediction steps highlighted in the relevant sections" src="https://cdn.qwiklabs.com/p%2Fbngfk2MNJxcgDxeq8RUShmJ7A6KYSXgOaY6ACJGZs%3D" width="624.00">
<h2 id="step10">Congratulations!</h2>
<p>You can now use Vertex AI to:</p>
<ul>
<li>Upload a dataset.</li>
<li>Train a model with AutoML.</li>
<li>Evaluate the model performance.</li>
<li>Deploy the trained AutoML model to an endpoint.</li>
<li>Get predictions.</li>
</ul>
<p>To learn more about different parts of Vertex AI, refer to the <a href="https://cloud.google.com/ai-platform-unified/docs?utm_source=codelabs&amp;utm_medium=et&amp;utm_campaign=CDR_sar_aiml_vertexio_&amp;utm_content=-" target="_blank">Vertex AI documentation</a>.</p>
<h2 id="step11">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Google Cloud Skills Boost removes the resources you’ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>

<p>Copyright 2022 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>





</div>
</div>


<div class='lab-content__end-lab-button js-end-lab-button-container hidden'>
<ql-lab-control-button class='js-end-lab-button' running></ql-lab-control-button>
</div>
<!-- / TODO: Move recommendations into the end lab modal -->
</div>
<div aria-label='Lab Table of Contents' class='outline-container' id='js-outline-container' role='navigation'>
<ul class='lab-content__outline js-lab-content-outline'>
<li><a href="#step1">Overview</a></li><li><a href="#step2">Setup</a></li><li><a href="#step3">Introduction to Vertex AI</a></li><li><a href="#step4">Task 1. Prepare the training data</a></li><li><a href="#step5">Task 2. Train your model</a></li><li><a href="#step6">Task 3. Evaluate the model performance (demonstration only)</a></li><li><a href="#step7">Task 4. Deploy the model (demonstration only)</a></li><li><a href="#step8">Task 5. SML Bearer Token</a></li><li><a href="#step9">Task 6. Get predictions</a></li><li><a href="#step10">Congratulations!</a></li><li><a href="#step11">End your lab</a></li>
</ul>
</div>
</ql-drawer-content>
</ql-drawer-container>
</ql-drawer-content>
</ql-drawer-container>
<ql-snackbar id='alert-snackbar'></ql-snackbar>



</div>
</main>

<span class='hidden' id='flash-sibling-before'></span>
<ql-snackbar></ql-snackbar>

<script data-glue-cookie-notification-bar-category='2B' src='https://www.gstatic.com/glue/cookienotificationbar/cookienotificationbar.min.js'></script>

<ql-dialog headline='Score Details' icon='task_alt' id='jupyter-feedback-modal'>
<iframe id='jupyter-feedback-frame' srcdoc='' title='Jupyter Feedback'></iframe>
</ql-dialog>

<div class='modal fade' id='lab-details-modal'>
<div class='modal-container'>
<div class='modal-content mdl-shadow--24dp'>
<div class='modal-body'>
<p class='l-mbm'>
In this lab, you will use AutoML on Vertex AI to train and serve a model with tabular data. Vertex AI is the newest AI product offering on Google Cloud, and is currently in preview.
</p>
<p class='small-label l-mbs'>
<strong>
Duration:
</strong>
1m setup
&middot;
150m access
&middot;
150m completion
</p>
<p class='small-label l-mbs'>
<strong>AWS Region:</strong>
[] <strong></strong>
</p>
<p class='small-label l-mbs'>
<span><strong>Levels: </strong>introductory</span>
</p>
<p class='small-label'>
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/4624">https://googlecoursera.qwiklabs.com/catalog_lab/4624</a>
</p>
</div>
<div class='modal-actions'>
<a class='button button--text' data-dismiss='modal'>
Got It
</a>
</div>


</div>
</div>
<iframe class='l-ie-iframe-fix' tabindex='-1' title='modal'></iframe>
</div>
<ql-dialog headline='How satisfied are you with this lab?&lt;span aria-hidden=&quot;true&quot;&gt;*&lt;/span&gt;' id='lab-review-dialog'>
<form class="simple_form js-lab-review-form" id="edit_lab_review_35074029" action="/lab_reviews/35074029" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" autocomplete="off" /><input type="hidden" name="_method" value="patch" autocomplete="off" /><div aria-labelledby='lab-review-dialog' aria-required='true' aria-valuemax='5' aria-valuemin='0' aria-valuenow='5' class='rateit js-rateit' data-rateit-max='5' data-rateit-min='0' data-rateit-resetable='false' data-rateit-step='1' data-rateit-value='5' id='lab-review-rateit' role='slider' tabindex='0'></div>
<div class='l-mtm'>

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="12197799" name="lab_review[user_id]" id="lab_review_user_id" /></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[classroom_id]" id="lab_review_classroom_id" /></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="4624" name="lab_review[lab_id]" id="lab_review_lab_id" /></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[focus_id]" id="lab_review_focus_id" /></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" autocomplete="off" type="hidden" value="2" name="lab_review[rating]" id="lab_review_rating" /></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Additional Comments</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment">
</textarea></div></div>
</div>
</form><ql-button disabled id='submit' label='Submit' slot='action' text></ql-button>
</ql-dialog>

<ql-dialog headline='All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?' icon='error_outline' id='js-lab-are-you-sure-dialog'>
<ql-button id='js-are-you-sure-button' label='Submit' slot='action' text></ql-button>
</ql-dialog>


<script>
  $(function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    ql.chat.init();
  ql.jumpContent.init();
  ql.labControlPanel.addRecaptchaErrorHandler();
  initLabContent();
  ql.labOutline.links.init();
  initLabReviewModal();
  initLabReviewTranslations( {"star_amount_1":"1 of 5 stars","star_amount_2":"2 of 5 stars","star_amount_3":"3 of 5 stars","star_amount_4":"4 of 5 stars","star_amount_5":"5 of 5 stars"} )
  ql.labAssessment.init();
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>

</body>
</html>

