
<!DOCTYPE html>
<html lang='en'>
<head>
<title>An Introduction to Cloud Composer 2.5 | Qwiklabs</title>
<meta name="action-cable-url" content="/cable" />
<script>
//<![CDATA[
window.gon={};gon.deployment="googlecoursera-run";
//]]>
</script>
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-5XSKHDX");
</script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/polyfills/webcomponents-loader-b1b28b59480cca2ab0c23485f64ba2ec8893bdc9.js"></script>
<script src="https://cdn.qwiklabs.com/assets/vendor-730738e6a42cf2d08765342db72a96e1c168e026.js"></script>
<script src="https://cdn.qwiklabs.com/assets/application-5bdf08e3db82244d1fd919ef04497683c2eb8f48.js"></script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/hallofmirrors-5be9380d7cac08f7e2dac9c53445a154bd807c47.js"></script>
<script id='ze-snippet' src='https://static.zdassets.com/ekr/snippet.js?key=511e4158-0aec-4e3c-b2e6-4daa1769f51e'></script>


<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="HMZyzIE27L4uy4hctbpvcC3wsxRmH974cNK7VbY6zy5UMk628Acv3gNJGHKwjnMaR1aSOsUWDa9nJ1JyR1hgrQ==" />
<meta content='width=device-width, initial-scale=1.0, user-scalable=yes' name='viewport'>
<meta content='1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0' name='google-site-verification'>
<meta content='#3681E4' property='msapplication-TileColor'>
<meta content='/favicon-144.png' property='msapplication-TileImage'>
<meta content='[{&quot;id&quot;:&quot;recaptcha_experiment&quot;,&quot;optimize_id&quot;:&quot;dpViOcLkT3qS4TvL2mRojA&quot;,&quot;title&quot;:&quot;No Recaptcha shown for trusted users&quot;,&quot;variant_index&quot;:0,&quot;variant&quot;:&quot;original&quot;}]' name='active-experiments'>
<meta content='{&quot;userId&quot;:12197799,&quot;experimentIds&quot;:[&quot;search_updates&quot;,&quot;organization_announcements&quot;,&quot;organization_learning_plans&quot;,&quot;chat_off_for_signed_out_users&quot;,&quot;alexandria_show_bundle_errors&quot;,&quot;program_announcements&quot;,&quot;canonical_domain_redirect&quot;,&quot;program_learning_assignment&quot;,&quot;barker&quot;,&quot;used_in&quot;,&quot;course_upgrade&quot;,&quot;community_forum&quot;,&quot;peer_assignment&quot;,&quot;enforce_codebuild_verdicts&quot;,&quot;show_annual_purchase_now&quot;,&quot;oauth_risc_shutoff&quot;,&quot;teams&quot;,&quot;content_provider_admin&quot;]}' name='help-api-product-data'>
<meta content='{&quot;groupIds&quot;:[&quot;non_suadmins&quot;,&quot;students&quot;,&quot;non_organization&quot;,&quot;non_program&quot;]}' name='help-api-custom-data'>
<meta content='In this lab, you create a Cloud Composer environment using the GCP Console. You then use the Airflow web interface to run a workflow that verifies a data file, creates and runs an Apache Hadoop wordcount job on a Dataproc cluster, and deletes the cluster.' name='description'>
<meta content='Qwiklabs' name='author'>
<meta content='An Introduction to Cloud Composer 2.5 | Qwiklabs' property='og:title'>
<meta content='website' property='og:type'>
<meta content='/favicon-144.png' property='og:image'>
<meta content='Qwiklabs' property='og:site_name'>
<meta content='In this lab, you create a Cloud Composer environment using the GCP Console. You then use the Airflow web interface to run a workflow that verifies a data file, creates and runs an Apache Hadoop wordcount job on a Dataproc cluster, and deletes the cluster.' property='og:description'>
<meta content='/qwiklabs_logo_900x887.png' property='og:logo' size='900x887'>
<meta content='/qwiklabs_logo_994x187.png' property='og:logo' size='994x187'>


<meta property="og:url" content="https://googlecoursera.qwiklabs.com/focuses/32528935?parent=lti_session" /><link href="https://googlecoursera.qwiklabs.com/focuses/32528935?parent=lti_session" rel="canonical" />
<link color='#3681E4' href='/favicon-svg.svg' rel='mask-icon'>
<link href='/favicon-180.png' rel='apple-touch-icon-precomposed'>
<link href='/favicon-32.png' rel='shortcut icon' type='image/x-icon'>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:400|Roboto+Mono:400,700|Roboto:300,400,500,700|Google+Sans:300,400,500,700|Google+Sans+Display:400|Material+Icons|Google+Material+Icons|Google+Sans+Text:400,500,700" media="screen" />

<link rel="stylesheet" href="https://cdn.qwiklabs.com/assets/application-29602dc272dc25b87d80aad082aeac190a74d2ab.css" media="all" />
<link rel="stylesheet" href="https://www.gstatic.com/glue/cookienotificationbar/cookienotificationbar.min.css" media="screen" />


<style>
  :root {
    --primary-text-on-surface-color: #1a73e8;
    --primary-text-on-surface-color-dark: #1568d6;
    --primary-text-on-surface-color-darker: #135ec1;
    --primary-text-on-surface-color-darkest: #1154ac;
    --primary-surface-color: #1a73e8;
    --primary-surface-color-rgb: 26,115,232;
    --primary-surface-color-light: #d1e3fa;
    --primary-surface-color-lightest: #e8f1fd;
    --text-on-primary-color: #ffffff;
    --accent-text-on-surface-color: #f29900;
    --accent-surface-color: #f9ab00;
    --accent-surface-color-rgb: 249,171,0;
    --accent-surface-color-light: #ffefcc;
    --text-on-accent-color: #202124;
  }
</style>



</head>
<body class='lab-show l-full no-nav application-new focuses focuses-show lab-show l-full no-nav '>
<div class='header-container'>
<div class='header'>
<ql-toolbar jumpEnabled>
<div class='header__title' slot='title'>
<ql-icon-button label="Back" href="https://www.coursera.org/" id="1882ad81951285c5" target="_self" tip="Back">arrow_back</ql-icon-button>
<h1 class='ql-title-medium'>An Introduction to Cloud Composer 2.5</h1>
</div>
<div class='header__actions' slot='action'>
<ql-icon-button id='control-panel-target' style='display: none;'>
dashboard
</ql-icon-button>
<ql-menu for='control-panel-target' id='control-panel-menu'></ql-menu>
<ql-icon-button class='mobile-hide' icon='help_outline' id='help-menu-button' label='Open help menu' tip='Help'></ql-icon-button>
<ql-menu for='help-menu-button' id='help-menu'>
<ql-menu-item data-analytics-action='opened_help' data-analytics-label='lab' label='Help Center' onclick='hallofmirrors.helpService.startHelp({&quot;productData&quot;:{&quot;userId&quot;:12197799},&quot;context&quot;:&quot;lab&quot;})'></ql-menu-item>
<ql-menu-item href='mailto:support@qwiklabs.com' label='Email support'></ql-menu-item>
<ql-menu-item label='Chat support' onClick='ql.chat.open()'></ql-menu-item>
</ql-menu>

<ql-icon-button class='mobile-hide' icon='language' id='language' label='Select your language preference' tip='Language'></ql-icon-button>
<ql-menu for='language'>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ar' href='/focuses/32528935?locale=ar&amp;parent=lti_session' label='العربية‬‎' lang='ar'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='de' href='/focuses/32528935?locale=de&amp;parent=lti_session' label='Deutsch' lang='de'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='en' href='/focuses/32528935?locale=en&amp;parent=lti_session' label='English' lang='en'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='es' href='/focuses/32528935?locale=es&amp;parent=lti_session' label='español (Latinoamérica)' lang='es'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='fr' href='/focuses/32528935?locale=fr&amp;parent=lti_session' label='français' lang='fr'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='fr_CA' href='/focuses/32528935?locale=fr_CA&amp;parent=lti_session' label='français (Canada)' lang='fr-CA'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='he' href='/focuses/32528935?locale=he&amp;parent=lti_session' label='עברית' lang='he'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='id' href='/focuses/32528935?locale=id&amp;parent=lti_session' label='bahasa Indonesia' lang='id'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='it' href='/focuses/32528935?locale=it&amp;parent=lti_session' label='Italiano' lang='it'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ja' href='/focuses/32528935?locale=ja&amp;parent=lti_session' label='日本語' lang='ja'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ko' href='/focuses/32528935?locale=ko&amp;parent=lti_session' label='한국어' lang='ko'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pl' href='/focuses/32528935?locale=pl&amp;parent=lti_session' label='Polski' lang='pl'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pt_BR' href='/focuses/32528935?locale=pt_BR&amp;parent=lti_session' label='português (Brasil)' lang='pt-BR'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pt_PT' href='/focuses/32528935?locale=pt_PT&amp;parent=lti_session' label='português (Portugal)' lang='pt-PT'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ru' href='/focuses/32528935?locale=ru&amp;parent=lti_session' label='русский' lang='ru'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='tr' href='/focuses/32528935?locale=tr&amp;parent=lti_session' label='Türkçe' lang='tr'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='uk' href='/focuses/32528935?locale=uk&amp;parent=lti_session' label='український' lang='uk'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='zh' href='/focuses/32528935?locale=zh&amp;parent=lti_session' label='简体中文' lang='zh'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='zh_TW' href='/focuses/32528935?locale=zh_TW&amp;parent=lti_session' label='繁體中文' lang='zh-TW'></ql-menu-item>
</ql-menu>


<ql-icon-button id='my_account' label='My account' tip='My account'>
<ql-avatar src='https://lh3.googleusercontent.com/a/ACg8ocI6s7UhNvX_oCOJMPhLJPmqhqIgwu_5AK0t7wpjF-5jmQo=s320-c'></ql-avatar>
</ql-icon-button>
<ql-menu for='my_account' id='my_account_menu' style='max-height: 640px'>
<div class='my-account-menu'>
<ql-avatar class='l-mtl l-mbl' size='120' src='https://lh3.googleusercontent.com/a/ACg8ocI6s7UhNvX_oCOJMPhLJPmqhqIgwu_5AK0t7wpjF-5jmQo=s320-c'></ql-avatar>
<div class='my-account-menu__user-info l-mbl'>
<h4 class='ql-title-medium'>Justin Ho</h4>
<p class='ql-body-medium text--light'>cliffdove@gmail.com</p>
<p class='ql-body-medium text--light'>
</p>
<a class="text--green ql-title-small" href="/my_account/payments"><ql-chip positive>
0 Credits
</ql-chip>
</a></div>
<div class='buttons l-mbl'>
<a class="button button--hairline" id="settings" href="/my_account/profile">Settings</a>
</div>
<hr>
<ql-button data-analytics-action='clicked_sign_out' href='/users/sign_out' method='delete'>
Sign Out
</ql-button>
<div class='privacy l-mtl'>
<a target="_blank" class="ql-label-medium text--light" href="/privacy_policy">Privacy</a>
<span class='ql-label-medium text--light l-mls l-mrs'>&middot;</span>
<a class="ql-label-medium text--light" href="/terms_of_service">Terms</a>
</div>
</div>
</ql-menu>

</div>
</ql-toolbar>

</div>
</div>

<nav class='nav-panel js-nav-panel'>
<div class='nav-panel__logo'>
<div class="custom-logo">Qwiklabs</div>
</div>
<nav class='ql-sidenav'>
<ql-sidenav-item href='/' icon='home' label='Home'></ql-sidenav-item>

<ql-sidenav-item href='/catalog' icon='school' label='Catalog'></ql-sidenav-item>

<ql-sidenav-item href='/profile' icon='event_note' label='Profile'></ql-sidenav-item>

</nav>

</nav>
<div class='nav-panel__overlay js-nav-toggle'></div>

<main class='js-main' id='jump-content'>
<div class='l-main-wrapper' id='main-wrapper'>




<div class='lab-assessment__tab js-open-lab-assessment-panel'>
<button class='js-lab-assessment-total-score'>
—/15
</button>
</div>
<div aria-labelledby='lab-assessment-checkpoint' class='lab-assessment__panel js-lab-assessment-panel' role='dialog'>
<div class='lab-assessment__panel__header'>
<h4 id='lab-assessment-checkpoint'>Checkpoints</h4>
<ql-icon-button class='js-close-lab-assessment-panel' icon='arrow_forward' label='Close dialog'></ql-icon-button>
</div>
<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Create Cloud Composer environment
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Create Cloud Composer environment' step_no='1'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-1'>
</span>
/ 5
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Create a Cloud Storage bucket
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Create a Cloud Storage bucket' step_no='2'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-2'>
</span>
/ 5
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Uploading the DAG to Cloud Storage
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Uploading the DAG to Cloud Storage' step_no='3'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-3'>
</span>
/ 5
</p>
</div>
</div>

</div>
<ql-drawer-container class='js-lab-state' data-analytics-payload='{&quot;label&quot;:&quot;An Introduction to Cloud Composer 2.5&quot;,&quot;lab_name&quot;:&quot;An Introduction to Cloud Composer 2.5&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}' data-credits='0.0' data-focus-id='32528935' data-lab-billing-limit='0.0' data-lab-duration='5400' data-parent='lti_session' data-recaptcha-enabled id='lab-container'>
<ql-drawer id='terminal-drawer' slot='drawer'>
<iframe allow='clipboard-read' class='terminal' id='embedded-resource'></iframe>
</ql-drawer>
<ql-drawer-content class='js-lab-wrapper' id='lab-content' slot='drawer-content'>
<ql-drawer-container id='lab-content-container'>
<ql-drawer id='control-panel-drawer' open slot='drawer' width='320'>
<ql-lab-control-panel class='ql-lab-control-panel__max-height control-panel js-lab-control-panel' connectionFiles='[]' labControlButton='{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}' labDetails='[]' labTimer='{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:5400}' studentResources='[{&quot;text&quot;:&quot;Flexible, Easy Data Pipelines on Google Cloud with Cloud Compooser (NEXT&#39;18)&quot;,&quot;icon&quot;:&quot;videocam&quot;,&quot;href&quot;:&quot;https://www.youtube.com/watch?v=GeNFEtt-D4k&quot;}]'>
<script src="https://www.recaptcha.net/recaptcha/api.js?render=6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr"   ></script>
        <script>
          // Define function so that we can call it again later if we need to reset it
          // This executes reCAPTCHA and then calls our callback.
          function executeRecaptchaForStartLab() {
            grecaptcha.ready(function() {
              grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}).then(function(token) {
                setInputWithRecaptchaResponseTokenForStartLab('g-recaptcha-response-data-start-lab', token)
              });
            });
          };
          // Invoke immediately
          executeRecaptchaForStartLab()

          // Async variant so you can await this function from another async function (no need for
          // an explicit callback function then!)
          // Returns a Promise that resolves with the response token.
          async function executeRecaptchaForStartLabAsync() {
            return new Promise((resolve, reject) => {
             grecaptcha.ready(async function() {
                resolve(await grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}))
              });
            })
          };

                  var setInputWithRecaptchaResponseTokenForStartLab = function(id, token) {
          var element = document.getElementById(id);
          if (element !== null) element.value = token;
        }

        </script>
<input type="hidden" name="g-recaptcha-response-data[start_lab]" id="g-recaptcha-response-data-start-lab" data-sitekey="6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr" class="g-recaptcha g-recaptcha-response "/>

<div aria-live='polite' class='hidden' id='recaptcha-v2-start-lab' slot='recaptcha'>
<script src="https://www.recaptcha.net/recaptcha/api.js" async defer ></script>
<div data-sitekey="6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV" data-callback="recaptchaComplete" data-expired-callback="expireV2Token" class="g-recaptcha "></div>
          <noscript>
            <div>
              <div style="width: 302px; height: 422px; position: relative;">
                <div style="width: 302px; height: 422px; position: absolute;">
                  <iframe
                    src="https://www.recaptcha.net/recaptcha/api/fallback?k=6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV"
                    name="ReCAPTCHA"
                    style="width: 302px; height: 422px; border-style: none; border: 0; overflow: hidden;">
                  </iframe>
                </div>
              </div>
              <div style="width: 300px; height: 60px; border-style: none;
                bottom: 12px; left: 25px; margin: 0px; padding: 0px; right: 25px;
                background: #f9f9f9; border: 1px solid #c1c1c1; border-radius: 3px;">
                <textarea id="g-recaptcha-response" name="g-recaptcha-response"
                  class="g-recaptcha-response"
                  style="width: 250px; height: 40px; border: 1px solid #c1c1c1;
                  margin: 10px 25px; padding: 0px; resize: none;">
                </textarea>
              </div>
            </div>
          </noscript>

</div>
</ql-lab-control-panel>
</ql-drawer>
<ql-drawer-content id='lab-instructions' slot='drawer-content'>
<div class='lab-content-container'>
<div class='alert alert--fake js-alert'>
<p class='alert__message js-alert-message' role='alert'></p>
<ql-icon-button class='alert__close js-alert-close' icon='clear'></ql-icon-button>
<iframe class='l-ie-iframe-fix' tabindex='-1'></iframe>
</div>
<div class='lab-content__renderable-instructions js-lab-content'>
<div class='lab-preamble'>
<h1 class='lab-preamble__title'>
An Introduction to Cloud Composer 2.5
</h1>
<div class='lab-preamble__details ql-title-medium'>
<span>1 hour 30 minutes</span>
<span>Free</span>
<div class='lab__rating'>
<a aria-label="Lab Reviews" href="/focuses/32528935/reviews?parent=lti_session"><div class='rateit' data-rateit-readonly='true' data-rateit-value='4.3024'></div>

</a><ql-button aria-label='Rate Lab' id='rate-lab-btn' label='Rate Lab' text></ql-button>
</div>
</div>
</div>
<div class='lab-outline-place-holder'></div>

<div class='markdown-lab-instructions js-markdown-instructions' id='markdown-lab-instructions'>

<h2 id="step1">Overview</h2>
<p>Workflows are a common theme in data analytics - they involve ingesting, transforming, and analyzing data to figure out the meaningful information within. In Google Cloud, the tool for hosting workflows is Cloud Composer which is a hosted version of the popular open source workflow tool Apache Airflow.</p>
<p>In this lab, you use the Google Cloud console to set up a Cloud Composer environment. You then use Cloud Composer to go through a simple workflow that verifies the existence of a data file, creates a Cloud Dataproc cluster, runs an Apache Hadoop wordcount job on the Cloud Dataproc cluster, and deletes the Cloud Dataproc cluster afterwards.</p>
<h3>What you'll do</h3>
<ul>
<li>
<p>Use the Google Cloud console to create the Cloud Composer environment</p>
</li>
<li>
<p>View and run the DAG (Directed Acyclic Graph) in the Airflow web interface</p>
</li>
<li>
<p>View the results of the wordcount job in storage</p>
</li>
</ul>
<h2 id="step2">Setup and requirements</h2>
<h3>Lab setup</h3>
<p>For each lab, you get a new Google Cloud project and set of resources for a fixed time at no cost.</p>
<ol>
<li>
<p>Sign in to Qwiklabs using an <strong>incognito window</strong>.</p>
</li>
<li>
<p>Note the lab's access time (for example, <code>1:15:00</code>), and make sure you can finish within that time.<br>
There is no pause feature. You can restart if needed, but you have to start at the beginning.</p>
</li>
<li>
<p>When ready, click <strong>Start lab</strong>.</p>
</li>
<li>
<p>Note your lab credentials (<strong>Username</strong> and <strong>Password</strong>). You will use them to sign in to the Google Cloud Console.</p>
</li>
<li>
<p>Click <strong>Open Google Console</strong>.</p>
</li>
<li>
<p>Click <strong>Use another account</strong> and copy/paste credentials for <strong>this</strong> lab into the prompts.<br>
If you use other credentials, you'll receive errors or <strong>incur charges</strong>.</p>
</li>
<li>
<p>Accept the terms and skip the recovery resource page.</p>
</li>
</ol>
<aside class="warning"><p><strong>Note:</strong> Do not click <strong>End Lab</strong> unless you have finished the lab or want to restart it. This clears your work and removes the project.
  </p>
</aside>

<h3>Activate Google Cloud Shell</h3>
<p>Google Cloud Shell is a virtual machine that is loaded with development tools. It offers a persistent 5GB home directory and runs on the Google Cloud.</p>
<p>Google Cloud Shell provides command-line access to your Google Cloud resources.</p>
<ol>
<li>
<p>In Cloud console, on the top right toolbar, click the Open Cloud Shell button.</p>
<p><img alt="Highlighted Cloud Shell icon" src="https://cdn.qwiklabs.com/00tA48qOVOyHrSa1DA7LwccfwQ9Z%2BE6dkvQ1MYPHzhQ%3D"></p>
</li>
<li>
<p>Click <strong>Continue</strong>.</p>
</li>
</ol>
<p>It takes a few moments to provision and connect to the environment. When you are connected, you are already authenticated, and the project is set to your <em>PROJECT_ID</em>. For example:</p>
<p><img alt="Project ID highlighted in the Cloud Shell Terminal" src="https://cdn.qwiklabs.com/hmMK0W41Txk%2B20bQyuDP9g60vCdBajIS%2B52iI2f4bYk%3D"></p>
<p><strong>gcloud</strong> is the command-line tool for Google Cloud. It comes pre-installed on Cloud Shell and supports tab-completion.</p>
<ul>
<li>You can list the active account name with this command:</li>
</ul>
<ql-code-block language="plaintext">
gcloud auth list
</ql-code-block>
<p><strong>Output:</strong></p>
<ql-code-block output="">
Credentialed accounts:
 - @.com (active)
</ql-code-block>
<p><strong>Example output:</strong></p>
<ql-code-block output="">
Credentialed accounts:
 - google1623327_student@qwiklabs.net
 </ql-code-block>
<ul>
<li>You can list the project ID with this command:</li>
</ul>
<ql-code-block language="plaintext">
gcloud config list project
</ql-code-block>
<p><strong>Output:</strong></p>
<ql-code-block output="">
[core]
project = 
</ql-code-block>
<p><strong>Example output:</strong></p>
<ql-code-block output="">
[core]
project = qwiklabs-gcp-44776a13dea667a6
</ql-code-block>
<ql-infobox><strong>Note: </strong>
  Full documentation of <strong>gcloud</strong> is available in the
  <a href="https://cloud.google.com/sdk/gcloud" target="_blank">
    gcloud CLI overview guide
  </a>.
</ql-infobox>

<h3>Check project permissions</h3>
<p>Before you begin your work on Google Cloud, you need to ensure that your project has the correct permissions within Identity and Access Management (IAM).</p>
<ol>
<li>
<p>In the Google Cloud console, on the <strong>Navigation menu</strong> (<img alt="Navigation menu icon" src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), select <strong>IAM &amp; Admin</strong> &gt; <strong>IAM</strong>.</p>
</li>
<li>
<p>Confirm that the default compute Service Account <code>{project-number}-compute@developer.gserviceaccount.com</code> is present and has the <code>editor</code> role assigned. The account prefix is the project number, which you can find on <strong>Navigation menu &gt; Cloud Overview &gt; Dashboard</strong>.</p>
</li>
</ol>
<p><img alt="Compute Engine default service account name and editor status highlighted on the Permissions tabbed page" src="https://cdn.qwiklabs.com/1nytD9OUuNUV9undyjUWeOS7LJmekReBDmkUjveCjcU%3D"></p>
<ql-infobox><strong>Note: </strong>If the account is not present in IAM or does not have the <code>editor</code> role, follow the steps below to assign the required role.</ql-infobox>
<ol>
<li>In the Google Cloud console, on the <strong>Navigation menu</strong>, click <strong>Cloud Overview &gt; Dashboard</strong>.</li>
<li>Copy the project number (e.g. <code>729328892908</code>).</li>
<li>On the <strong>Navigation menu</strong>, select <strong>IAM &amp; Admin</strong> &gt; <strong>IAM</strong>.</li>
<li>At the top of the roles table, below <strong>View by Principals</strong>, click <strong>Grant Access</strong>.</li>
<li>For <strong>New principals</strong>, type:</li>
</ol>
<ql-code-block language="plaintext">
  {project-number}-compute@developer.gserviceaccount.com
</ql-code-block>
<ol start="6">
<li>Replace <code>{project-number}</code> with your project number.</li>
<li>For <strong>Role</strong>, select <strong>Project</strong> (or Basic) &gt; <strong>Editor</strong>.</li>
<li>Click <strong>Save</strong>.</li>
</ol>

<h2 id="step3">Task 1. Ensure that the Kubernetes Engine API is successfully enabled</h2>
<p>To ensure access to the necessary APIs, restart the connection to the Kubernetes Engine API.</p>
<ol>
<li>
<p>In the Google Cloud console, enter <strong>Kubernetes Engine API</strong> in the top search bar. Click on the result for <strong>Kubernetes Engine API</strong>.</p>
</li>
<li>
<p>Click <strong>Manage</strong>.</p>
</li>
<li>
<p>Click <strong>Disable API</strong>.</p>
</li>
</ol>
<ul>
<li>
<p>If prompted to confirm, click <strong>Disable</strong>.</p>
</li>
<li>
<p>If prompted again <code>Do you want to disable Kubernetes Engine API and its dependent APIs?</code>, click <strong>Confirm</strong>.</p>
</li>
</ul>
<ol start="4">
<li>Click <strong>Enable</strong>.</li>
</ol>
<p>When the API has been enabled again, the page will show the option to disable.</p>
<h2 id="step4">Task 2. Ensure that the Cloud Composer API is successfully enabled</h2>
<p>Restart the connection to the Cloud Composer API.  In the prior step, restarting the Kubernetes Engine API forced the Cloud Composer API to be disabled.</p>
<ol>
<li>
<p>In the Google Cloud console, enter <strong>Cloud Composer API</strong> in the top search bar. Click on the result for <strong>Cloud Composer API</strong>.</p>
</li>
<li>
<p>Click <strong>Enable</strong>.</p>
</li>
</ol>
<p>When the API has been enabled, the page will show the option to disable.</p>
<h2 id="step5">Task 3. Create Cloud Composer environment</h2>
<p>In this section, you create a Cloud Composer environment.</p>
<ql-warningbox><strong>Note: </strong>Before proceeding further, make sure that you have performed earlier tasks to ensure that the required APIs are successfully enabled. If not, then please perform those tasks otherwise Cloud Composer environment creation will fail.</ql-warningbox>
<ol>
<li>
<p>Go to <strong>Navigation menu</strong> &gt; <strong>Composer</strong>.</p>
</li>
<li>
<p>Click <strong>Create Environment</strong> and select <strong>Composer 1</strong>. Set the following for your environment:</p>
</li>
</ol>
<table>

<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>


<tr>
<td><strong>Name</strong></td>
<td><code>highcpu</code></td>
</tr>
<tr>
<td><strong>Location</strong></td>
<td><code>us-central1</code></td>
</tr>
<tr>
<td><strong>Zone</strong></td>
<td><code>us-central1-a</code></td>
</tr>
<tr>
<td><strong>Machine type</strong></td>
<td>e2-highcpu-4</td>
</tr>

</table>
<p>Leave all other settings as default.</p>
<ol start="3">
<li>Click <strong>Create</strong>.</li>
</ol>
<p>The environment creation process is completed when the green checkmark displays to the left of the environment name on the Environments page in the console.</p>
<p>It can take 10-20 minutes for the environment to complete the setup process. Continue with the lab while the environment spins up.</p>
<p>Click <strong>Check my progress</strong> to verify the objective.</p>
<ql-activity-tracking step="1">
    Create Cloud Composer environment.
</ql-activity-tracking>
<h3>Create a Cloud Storage bucket</h3>
<p>Create a Cloud Storage bucket in your project. This bucket will be used as output for the Hadoop job from Dataproc.</p>
<ol>
<li>
<p>Go to <strong>Navigation menu</strong> &gt; <strong>Cloud Storage</strong> &gt; <strong>Buckets</strong> and then click <strong>+ Create</strong>.</p>
</li>
<li>
<p>Give your bucket a universally unique name, then click <strong>Create</strong>. If prompted <code>Public access will be prevented</code>, click <strong>Confirm</strong>.</p>
</li>
</ol>
<p>Remember the Cloud Storage bucket name to use it as an Airflow variable later in the lab.</p>
<p>Click <strong>Check my progress</strong> to verify the objective.</p>
<ql-activity-tracking step="2">
    Create a Cloud Storage bucket.
</ql-activity-tracking>
<h2 id="step6">Task 4. Airflow and core concepts</h2>
<p>While waiting for your Composer environment to get created, review some terms that are used with Airflow.</p>
<p><a href="https://airflow.apache.org/" target="_blank">Airflow</a> is a platform to programmatically author, schedule and monitor workflows.</p>
<p>Use Airflow to author workflows as directed acyclic graphs (DAGs) of tasks. The airflow scheduler executes your tasks on an array of workers while following the specified dependencies.</p>
<h3>Core concepts</h3>
<p><a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/dags.html" target="_blank">DAG</a></p>
<p>A Directed Acyclic Graph is a collection of all the tasks you want to run, organized in a way that reflects their relationships and dependencies.</p>
<p><a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/operators.html" target="_blank">Operator</a></p>
<p>The description of a single task, it is usually atomic. For example, the <em>BashOperator</em> is used to execute bash commands.</p>
<p><a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/tasks.html" target="_blank">Task</a></p>
<p>A parameterised instance of an Operator;  a node in the DAG.</p>
<p><a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/tasks.html#task-instances" target="_blank">Task Instance</a></p>
<p>A specific run of a task; characterized as: a DAG, a Task, and a point in time. It has an indicative state: <em>running</em>, <em>success</em>, <em>failed</em>, <em>skipped</em>, ...</p>
<p>You can read more about the concepts in the <a href="https://airflow.apache.org/concepts.html#" target="_blank">Concepts documentation</a>.</p>
<h2 id="step7">Task 5. Defining the workflow</h2>
<p>Now let's discuss the workflow you'll be using. Cloud Composer workflows are comprised of  <a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/dags.html" target="_blank">DAGs (Directed Acyclic Graphs)</a>. DAGs are defined in standard Python files that are placed in Airflow's <code>DAG_FOLDER</code>. Airflow will execute the code in each file to dynamically build the <code>DAG</code> objects. You can have as many DAGs as you want, each describing an arbitrary number of tasks. In general, each one should correspond to a single logical workflow.</p>
<p>Below is the <code>hadoop_tutorial.py</code> workflow code, also referred to as the DAG:</p>
<ql-code-block output="">
"""Example Airflow DAG that creates a Cloud Dataproc cluster, runs the Hadoop
wordcount example, and deletes the cluster.

This DAG relies on three Airflow variables
https://airflow.apache.org/concepts.html#variables
* gcp_project - Google Cloud Project to use for the Cloud Dataproc cluster.
* gce_zone - Google Compute Engine zone where Cloud Dataproc cluster should be
  created.
* gcs_bucket - Google Cloud Storage bucket to used as output for the Hadoop jobs from Dataproc.
  See https://cloud.google.com/storage/docs/creating-buckets for creating a
  bucket.
"""

import datetime
import os

from airflow import models
from airflow.contrib.operators import dataproc_operator
from airflow.utils import trigger_rule

# Output file for Cloud Dataproc job.
output_file = os.path.join(
    models.Variable.get('gcs_bucket'), 'wordcount',
    datetime.datetime.now().strftime('%Y%m%d-%H%M%S')) + os.sep
# Path to Hadoop wordcount example available on every Dataproc cluster.
WORDCOUNT_JAR = (
    'file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar'
)
# Arguments to pass to Cloud Dataproc job.
wordcount_args = ['wordcount', 'gs://pub/shakespeare/rose.txt', output_file]

yesterday = datetime.datetime.combine(
    datetime.datetime.today() - datetime.timedelta(1),
    datetime.datetime.min.time())

default_dag_args = {
    # Setting start date as yesterday starts the DAG immediately when it is
    # detected in the Cloud Storage bucket.
    'start_date': yesterday,
    # To email on failure or retry set 'email' arg to your email and enable
    # emailing here.
    'email_on_failure': False,
    'email_on_retry': False,
    # If a task fails, retry it once after waiting at least 5 minutes
    'retries': 1,
    'retry_delay': datetime.timedelta(minutes=5),
    'project_id': models.Variable.get('gcp_project')
}

with models.DAG(
        'composer_sample_quickstart',
        # Continue to run DAG once per day
        schedule_interval=datetime.timedelta(days=1),
        default_args=default_dag_args) as dag:

    # Create a Cloud Dataproc cluster.
    create_dataproc_cluster = dataproc_operator.DataprocClusterCreateOperator(
        task_id='create_dataproc_cluster',
        # Give the cluster a unique name by appending the date scheduled.
        # See https://airflow.apache.org/code.html#default-variables
        cluster_name='composer-hadoop-tutorial-cluster-{{ ds_nodash }}',
        num_workers=2,
        region='us-central1',
        zone=models.Variable.get('gce_zone'),
        image_version='2.0',
        master_machine_type='n1-standard-2',
        worker_machine_type='n1-standard-2')

    # Run the Hadoop wordcount example installed on the Cloud Dataproc cluster
    # master node.
    run_dataproc_hadoop = dataproc_operator.DataProcHadoopOperator(
        task_id='run_dataproc_hadoop',
        region='us-central1',
        main_jar=WORDCOUNT_JAR,
        cluster_name='composer-hadoop-tutorial-cluster-{{ ds_nodash }}',
        arguments=wordcount_args)

    # Delete Cloud Dataproc cluster.
    delete_dataproc_cluster = dataproc_operator.DataprocClusterDeleteOperator(
        task_id='delete_dataproc_cluster',
        region='us-central1',
        cluster_name='composer-hadoop-tutorial-cluster-{{ ds_nodash }}',
        # Setting trigger_rule to ALL_DONE causes the cluster to be deleted
        # even if the Dataproc job fails.
        trigger_rule=trigger_rule.TriggerRule.ALL_DONE)

    # Define DAG dependencies.
    create_dataproc_cluster &gt;&gt; run_dataproc_hadoop &gt;&gt; delete_dataproc_cluster
</ql-code-block>
<p>To orchestrate the three workflow tasks, the DAG imports the following operators:</p>
<ol>
<li>
<code>DataprocClusterCreateOperator</code>: Creates a Cloud Dataproc cluster.</li>
<li>
<code>DataProcHadoopOperator</code>: Submits a Hadoop wordcount job and writes results to a Cloud Storage bucket.</li>
<li>
<code>DataprocClusterDeleteOperator</code>: Deletes the cluster to avoid incurring ongoing Compute Engine charges.</li>
</ol>
<p>The tasks run sequentially, which you can see in this section of the file:</p>
<ql-code-block output="">
# Define DAG dependencies.
create_dataproc_cluster &gt;&gt; run_dataproc_hadoop &gt;&gt; delete_dataproc_cluster
</ql-code-block>
<p>The name of the DAG is <code>quickstart</code>, and the DAG runs once each day:</p>
<ql-code-block output="">
with models.DAG(
        'composer_sample_quickstart',
        # Continue to run DAG once per day
        schedule_interval=datetime.timedelta(days=1),
        default_args=default_dag_args) as dag:
</ql-code-block>
<p>Because the <code>start_date</code> that is passed in to <code>default_dag_args</code> is set to <code>yesterday</code>, Cloud Composer schedules the workflow to start immediately after the DAG uploads.</p>
<h2 id="step8">Task 6. Viewing environment information</h2>
<ol>
<li>
<p>Go back to <strong>Composer</strong> to check the status of your environment.</p>
</li>
<li>
<p>Once your environment has been created, click the name of the environment (highcpu) to see its details.</p>
</li>
</ol>
<p>On the <strong>Environment configuration</strong> tab you'll see information such as the Airflow web UI URL, GKE cluster, and a link to the DAGs folder, which is stored in your bucket.</p>
<ql-infobox><strong>Note:</strong> Cloud Composer only schedules the workflows in the <code>/dags</code> folder.</ql-infobox>
<h2 id="step9">Task 7. Using the Airflow UI</h2>
<p>To access the Airflow web interface using the console:</p>
<ol>
<li>Go back to the <strong>Environments</strong> page.</li>
<li>In the <strong>Airflow webserver</strong> column for the environment, click <strong>Airflow</strong>.</li>
<li>Click on your lab credentials.</li>
<li>The Airflow web interface opens in a new browser window.</li>
</ol>
<h2 id="step10">Task 8. Setting Airflow variables</h2>
<p>Airflow variables are an Airflow-specific concept that is distinct from <a href="https://cloud.google.com/composer/docs/how-to/managing/environment-variables" target="_blank">environment variables</a>.</p>
<ol>
<li>
<p>From the Airflow interface, select <strong>Admin</strong> &gt; <strong>Variables</strong> from the menu bar.</p>
</li>
<li>
<p>Click <strong>+</strong> icon to add a new record.</p>
</li>
</ol>
<p><img alt="Add Variables" src="https://cdn.qwiklabs.com/XtdOfYqa2iisgjjytCfGQyaCGJRy3zpMQwA3kPL%2BPvA%3D"></p>
<ol start="3">
<li>Create the following Airflow variables: <code>gcp_project</code>, <code>gcs_bucket</code>, and <code>gce_zone</code> and click <strong>Save</strong> after each variable.</li>
</ol>
<table>

<tr>
<th><strong>Key</strong></th>
<th><strong>Val</strong></th>
<th><strong>Details</strong></th>
</tr>


<tr>
<td><code>gcp_project</code></td>
<td>&lt;your project-id&gt;</td>
<td>The Google Cloud Platform project you're using for this quickstart.</td>
</tr>
<tr>
<td><code>gcs_bucket</code></td>
<td>gs://&lt;my-bucket&gt;</td>
<td>Replace &lt;my-bucket&gt; with the name of the Cloud Storage bucket you made earlier. This bucket stores the output from the Hadoop jobs from Dataproc.</td>
</tr>
<tr>
<td><code>gce_zone</code></td>
<td><code>us-central1-a</code></td>
<td>This is the Compute Engine zone where your Cloud Dataproc cluster will be created. To choose a different zone, see <a href="https://cloud.google.com/compute/docs/regions-zones/regions-zones#available" target="_blank">Available regions &amp; zones.</a>
</td>
</tr>

</table>
<p>Click <strong>Save</strong>. After adding first variable repeat the same process for second and third variable. Your Variables table should look like this when you're finished:</p>
<p><img alt="Variables List" src="https://cdn.qwiklabs.com/i%2FY6hUDg68bPVVBxcrORqeMFo6KYcgpZDnTZvkbR9DY%3D"></p>
<h2 id="step11">Task 9. Uploading the DAG to Cloud Storage</h2>
<p>To upload the DAG:</p>
<ol>
<li>
<p>In Cloud Shell run the below command to upload a copy of the <code>hadoop_tutorial.py</code> file to the Cloud Storage bucket that was automatically created when you created the environment.</p>
</li>
<li>
<p>Replace <code>&lt;DAGs_folder_path&gt;</code> in the following command with the path to the DAGs folder:</p>
</li>
</ol>
<ql-code-block language="plaintext">
gcloud storage cp gs://cloud-training/datawarehousing/lab_assets/hadoop_tutorial.py &lt;DAGs_folder_path&gt;
</ql-code-block>
<ul>
<li>You can get the path by going to <strong>Composer</strong>.</li>
<li>Click on the environment you created earlier and then click on the <strong>Environment Configuration</strong> tab to see the details of the environment.</li>
<li>Find <code>DAGs folder</code> and copy the path.</li>
</ul>
<p><img alt="DAGS folder path" src="https://cdn.qwiklabs.com/MP4xANCdrcP3tZBraTOXAUUS%2FbPf2dCBPbEYULJuVCQ%3D"></p>
<p>The revised command to upload the file will look similar to the one below:</p>
<ql-code-block output="">
gcloud storage cp gs://cloud-training/datawarehousing/lab_assets/hadoop_tutorial.py gs://us-central1-highcpu-0682d8c0-bucket/dags
</ql-code-block>
<ol start="3">
<li>Once the file has been successfully uploaded to the DAGs directory, open <code>dags</code> folder in the bucket and you will see the file in the <strong>Objects</strong> tab of the Bucket details.</li>
</ol>
<p><img alt="Bucket details" src="https://cdn.qwiklabs.com/MM0Qf9q9dI%2B9z8V7ZRGFPvIysTiyQqIffbyKj7WT1HE%3D"></p>
<p>When a DAG file is added to the DAGs folder, Cloud Composer adds the DAG to Airflow and schedules it automatically. DAG changes occur within 3-5 minutes.</p>
<p>You can see the task status of the <code>composer_hadoop_tutorial</code> DAG in the Airflow web interface.</p>
<p>Click <strong>Check my progress</strong> to verify the objective.</p>
<ql-activity-tracking step="3">
    Uploading the DAG to Cloud Storage.
</ql-activity-tracking>
<h3>Exploring DAG runs</h3>
<p>When you upload your DAG file to the <code>dags</code> folder in Cloud Storage, Cloud Composer parses the file. If no errors are found, the name of the workflow appears in the DAG listing, and the workflow is queued to run immediately.</p>
<ol>
<li>
<p>Make sure that you're on the DAGs tab in the Airflow web interface. It takes several minutes for this process to complete. Refresh your browser to make sure you're looking at the latest information.</p>
</li>
<li>
<p>In Airflow, click <strong>composer_hadoop_tutorial</strong> to open the DAG details page. This page includes several representations of the workflow tasks and dependencies.</p>
</li>
<li>
<p>In the toolbar, click <strong>Graph</strong>. Mouseover the graphic for each task to see its status. Note that the border around each task also indicates the status (green border = running; red = failed, etc.).</p>
</li>
<li>
<p>Click the "Refresh" link to make sure you're looking at the most recent information. The borders of the processes change color as the state of the process changes</p>
</li>
</ol>
<ql-infobox><strong>Note: </strong>If your Dataproc cluster already exists, you can run the workflow again to reach the success state by clicking `create_dataproc_cluster` graphic and then click <strong>Clear</strong> to reset the three tasks and click <strong>OK</strong> to confirm.</ql-infobox>
<ol start="5">
<li>
<p>Once the status for <strong>create_dataproc_cluster</strong> has changed to "running", go to  <strong>Navigation menu</strong> &gt; <strong>Dataproc</strong>, then click on:</p>
<ul>
<li>
<strong>Clusters</strong> to monitor cluster creation and deletion. The cluster created by the workflow is ephemeral: it only exists for the duration of the workflow and is deleted as part of the last workflow task.</li>
<li>
<strong>Jobs</strong> to monitor the Apache Hadoop wordcount job. Click the Job ID to see job log output.</li>
</ul>
</li>
<li>
<p>Once Dataproc gets to a state of "Running", return to Airflow and click <strong>Refresh</strong> to see that the cluster is complete.</p>
</li>
</ol>
<p>When the <code>run_dataproc_hadoop</code> process is complete, go to <strong>Navigation menu</strong> &gt; <strong>Cloud Storage</strong> &gt; <strong>Buckets</strong> and click on the name of your bucket to see the results of the wordcount in the <code>wordcount</code> folder.</p>
<ol start="7">
<li>Once all the steps are complete in the DAG, each step has a dark green border.  Additionally the Dataproc cluster that was created is now deleted.</li>
</ol>
<h2 id="step12">Congratulations!</h2>
<p>You've successfully run a Cloud Composer workflow!</p>
<h2 id="step13">Next steps</h2>
<ul>
<li>Check out when Cloud Composer was presented at NEXT 18 in San Francisco: <a href="https://www.youtube.com/watch?v=GeNFEtt-D4k" target="_blank">Flexible, Easy Data Pipelines on Google Cloud with Cloud Composer (Cloud Next '18)</a>
</li>
<li>To see the value of a variable, run the Airflow CLI sub-command  <a href="https://airflow.apache.org/docs/apache-airflow/stable/cli-and-env-variables-ref.html#variables" target="_blank">variables</a> with the get argument or use the  <a href="https://cloud.google.com/composer/docs/quickstart#variables-ui" target="_blank">Airflow web interface</a>.</li>
<li>For information about the Airflow web interface, see  <a href="https://cloud.google.com/composer/docs/how-to/accessing/airflow-web-interface#accessing_the_web_interface" target="_blank">Accessing the web interface</a>.</li>
</ul>
<h2 id="step14">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Google Cloud Skills Boost removes the resources you’ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>

<p>Copyright 2022 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>





</div>
</div>


<div class='lab-content__end-lab-button js-end-lab-button-container hidden'>
<ql-lab-control-button class='js-end-lab-button' running></ql-lab-control-button>
</div>
<!-- / TODO: Move recommendations into the end lab modal -->
</div>
<div aria-label='Lab Table of Contents' class='outline-container' id='js-outline-container' role='navigation'>
<ul class='lab-content__outline js-lab-content-outline'>
<li><a href="#step1">Overview</a></li><li><a href="#step2">Setup and requirements</a></li><li><a href="#step3">Task 1. Ensure that the Kubernetes Engine API is successfully enabled</a></li><li><a href="#step4">Task 2. Ensure that the Cloud Composer API is successfully enabled</a></li><li><a href="#step5">Task 3. Create Cloud Composer environment</a></li><li><a href="#step6">Task 4. Airflow and core concepts</a></li><li><a href="#step7">Task 5. Defining the workflow</a></li><li><a href="#step8">Task 6. Viewing environment information</a></li><li><a href="#step9">Task 7. Using the Airflow UI</a></li><li><a href="#step10">Task 8. Setting Airflow variables</a></li><li><a href="#step11">Task 9. Uploading the DAG to Cloud Storage</a></li><li><a href="#step12">Congratulations!</a></li><li><a href="#step13">Next steps</a></li><li><a href="#step14">End your lab</a></li>
</ul>
</div>
</ql-drawer-content>
</ql-drawer-container>
</ql-drawer-content>
</ql-drawer-container>
<ql-snackbar id='alert-snackbar'></ql-snackbar>



</div>
</main>

<span class='hidden' id='flash-sibling-before'></span>
<ql-snackbar></ql-snackbar>

<script data-glue-cookie-notification-bar-category='2B' src='https://www.gstatic.com/glue/cookienotificationbar/cookienotificationbar.min.js'></script>

<ql-dialog headline='Score Details' icon='task_alt' id='jupyter-feedback-modal'>
<iframe id='jupyter-feedback-frame' srcdoc='' title='Jupyter Feedback'></iframe>
</ql-dialog>

<div class='modal fade' id='lab-details-modal'>
<div class='modal-container'>
<div class='modal-content mdl-shadow--24dp'>
<div class='modal-body'>
<p class='l-mbm'>
In this lab, you create a Cloud Composer environment using the GCP Console. You then use the Airflow web interface to run a workflow that verifies a data file, creates and runs an Apache Hadoop wordcount job on a Dataproc cluster, and deletes the cluster.
</p>
<p class='small-label l-mbs'>
<strong>
Duration:
</strong>
0m setup
&middot;
90m access
&middot;
90m completion
</p>
<p class='small-label l-mbs'>
<strong>AWS Region:</strong>
[] <strong></strong>
</p>
<p class='small-label l-mbs'>
<span><strong>Levels: </strong>introductory</span>
</p>
<p class='small-label'>
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/4033">https://googlecoursera.qwiklabs.com/catalog_lab/4033</a>
</p>
</div>
<div class='modal-actions'>
<a class='button button--text' data-dismiss='modal'>
Got It
</a>
</div>


</div>
</div>
<iframe class='l-ie-iframe-fix' tabindex='-1' title='modal'></iframe>
</div>
<ql-dialog headline='How satisfied are you with this lab?&lt;span aria-hidden=&quot;true&quot;&gt;*&lt;/span&gt;' id='lab-review-dialog'>
<form class="simple_form js-lab-review-form" id="edit_lab_review_35094756" action="/lab_reviews/35094756" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" autocomplete="off" /><input type="hidden" name="_method" value="patch" autocomplete="off" /><div aria-labelledby='lab-review-dialog' aria-required='true' aria-valuemax='5' aria-valuemin='0' aria-valuenow='3' class='rateit js-rateit' data-rateit-max='5' data-rateit-min='0' data-rateit-resetable='false' data-rateit-step='1' data-rateit-value='3' id='lab-review-rateit' role='slider' tabindex='0'></div>
<div class='l-mtm'>

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="12197799" name="lab_review[user_id]" id="lab_review_user_id" /></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[classroom_id]" id="lab_review_classroom_id" /></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="4033" name="lab_review[lab_id]" id="lab_review_lab_id" /></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[focus_id]" id="lab_review_focus_id" /></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" autocomplete="off" type="hidden" value="0" name="lab_review[rating]" id="lab_review_rating" /></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Additional Comments</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment">
</textarea></div></div>
</div>
</form><ql-button disabled id='submit' label='Submit' slot='action' text></ql-button>
</ql-dialog>

<ql-dialog headline='All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?' icon='error_outline' id='js-lab-are-you-sure-dialog'>
<ql-button id='js-are-you-sure-button' label='Submit' slot='action' text></ql-button>
</ql-dialog>


<script>
  $(function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    ql.chat.init();
  ql.jumpContent.init();
  ql.labControlPanel.addRecaptchaErrorHandler();
  initLabContent();
  ql.labOutline.links.init();
  initLabReviewModal();
  initLabReviewTranslations( {"star_amount_1":"1 of 5 stars","star_amount_2":"2 of 5 stars","star_amount_3":"3 of 5 stars","star_amount_4":"4 of 5 stars","star_amount_5":"5 of 5 stars"} )
  ql.labAssessment.init();
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>

</body>
</html>

